<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Galer√≠a de Recuerdos ‚Äî Feliz Navidad</title>
<style>
  body{
    margin:0;
    font-family: Arial, Helvetica, sans-serif;
    background: linear-gradient(120deg,#2c5364,#203a43,#0f2027);
    color:#fff;
    overflow-x:hidden;
  }
  h1{text-align:center;margin:24px 0;}
  .galeria{
    display:grid;
    grid-template-columns: repeat(auto-fill, minmax(140px,1fr));
    gap:15px;
    padding:20px;
    max-width:1200px;
    margin:auto;
  }
  .card{
    perspective:1000px;
    cursor:pointer;
    position:relative;
  }
  .card-inner{
    aspect-ratio:1/1;
    transition:transform .6s;
    transform-style:preserve-3d;
    border-radius:12px;
    position:relative;
    overflow:visible;
    width:100%;
    display:block;
    box-shadow: 0 6px 18px rgba(0,0,0,0.25);
    background:#111;
  }
  .card.flipped .card-inner{transform:rotateY(180deg)}
  .card-front,.card-back{
    position:absolute;
    inset:0;
    backface-visibility:hidden;
    border-radius:12px;
    display:flex;
    align-items:center;
    justify-content:center;
    overflow:hidden;
  }
  .card-front img{
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
  }
  .card-back{
    background:linear-gradient(135deg,#ffecd2,#fcb69f);
    transform:rotateY(180deg);
    padding:12px;
    color:#3b2f2f;
    font-weight:700;
    text-align:center;
  }
  .card-back p{padding:8px;margin:0;font-size:0.95rem}

  /* Overlay */
  .overlay{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.85);
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:9999;
  }
  .overlay-panel{
    background:#ffe6f2;
    padding:28px;
    border-radius:18px;
    max-width:800px;
    text-align:center;
    color:#4a2b2b;
    animation:pop .4s ease;
  }
  @keyframes pop{
    from{opacity:0;transform:scale(.9)}
    to{opacity:1;transform:scale(1)}
  }
  .close-btn{
    background:#b02e2e;
    color:#fff;
    border:none;
    padding:10px 16px;
    border-radius:10px;
    font-weight:700;
    cursor:pointer;
  }

  /* Panel para pegar frases */
  .frases-panel{
    position:fixed;
    right:12px;
    top:80px;
    width:320px;
    max-width:calc(100vw - 24px);
    background:rgba(255,255,255,0.95);
    color:#222;
    border-radius:12px;
    padding:12px;
    z-index:9998;
    box-shadow:0 8px 30px rgba(0,0,0,0.4);
    display:none;
  }
  .frases-panel textarea{width:100%;height:220px;border-radius:8px;padding:8px;border:1px solid #ddd;resize:vertical}
  .frases-panel button{margin-top:8px;padding:8px 10px;border-radius:8px;border:none;background:#2c7a7a;color:#fff;cursor:pointer}

  /* Controles de m√∫sica (fijos) */
  .music-control{
    position:fixed;
    left:12px;
    top:12px;
    z-index:10001;
    display:flex;
    gap:8px;
    align-items:center;
    background:rgba(0,0,0,0.45);
    padding:8px;
    border-radius:10px;
  }
  .music-control button{background:#ffffff22;border:1px solid #fff2;color:#fff;padding:6px 8px;border-radius:8px;cursor:pointer}
  .music-control input[type="range"]{width:100px}

  /* Emojis cayendo */
  .falling{
    position:fixed;
    top:-50px;
    font-size:26px;
    animation:fall linear infinite;
    pointer-events:none;
    z-index:10000;
    will-change:transform;
  }
  @keyframes fall{
    to{transform:translateY(110vh) rotate(360deg)}
  }
  @media (max-width:420px){
    .overlay-panel{margin:12px}
    .music-control input[type="range"]{width:64px}
  }
</style>
</head>
<body>

<h1>üíñ Mis 200 Recuerdos üíñ</h1>
<div class="galeria" id="galeria" aria-live="polite"></div>

<!-- Overlay -->
<div class="overlay" id="overlay" role="dialog" aria-modal="true">
  <div class="overlay-panel" role="document">
    <h2>¬°Feliz Navidad mi amosito dimda! üéÑ‚ú®</h2>
    <p>
      Hoy que se entregan regalos, yo te dar√© 200 razones y 200 palabras por las cuales te amo.
      Eres el mayor regalo que me dio Diosito este a√±o fuiste t√∫ üíñ
    </p>
    <div style="margin-top:12px;display:flex;gap:8px;justify-content:center;flex-wrap:wrap">
      <button class="close-btn" id="closeOverlay">Cerrar ‚ú®</button>
      <button class="close-btn" id="openFrasesPanel">Pegar frases</button>
      <button class="close-btn" id="cargarDesdeArchivo">Cargar frases.txt</button>
    </div>
    <p style="margin-top:10px;font-size:0.9rem;color:#3b2f2f">Puedes: pegar 200 frases (1 por l√≠nea) o subir un archivo <code>frases.txt</code> con 200 l√≠neas. Si no, se rellenan autom√°ticamente.</p>
  </div>
</div>

<!-- Panel para pegar frases manualmente -->
<div class="frases-panel" id="frasesPanel" aria-hidden="true">
  <strong>Pega aqu√≠ tus frases (1 por l√≠nea)</strong>
  <textarea id="frasesPaste" placeholder="Frase 1&#10;Frase 2&#10;..."></textarea>
  <div style="display:flex;gap:8px;justify-content:flex-end">
    <button id="aplicarFrases">Aplicar frases</button>
    <button id="cerrarFrases">Cerrar</button>
  </div>
</div>

<!-- Controles de m√∫sica -->
<div class="music-control" aria-hidden="false">
  <button id="playBtn">‚ñ∂Ô∏è</button>
  <button id="muteBtn">üîà</button>
  <input id="volRange" type="range" min="0" max="1" step="0.05" value="0.7" title="Volumen">
  <span id="musicStatus" style="color:#fff;font-size:0.9rem;margin-left:6px">Silencio</span>
</div>

<!-- Elemento de audio (coloca tu canci√≥n aqu√≠) -->
<audio id="music" src="videollamada.mp3" preload="auto" loop></audio>

<script>
  // Primero: tus frases base (las primeras que quieres garantizar)
  const frasesBase = [
    "Siempre contigo ‚ù§Ô∏è",
    "Tu sonrisa es mi paz ‚ú®",
    "Cada momento a tu lado vale oro üíï",
    "Eres mi lugar seguro üåô",
    "Contigo todo es mejor üíñ",
    "Eres ese recuerdo que nunca se olvida ‚ú®",
    "Te amo mi reina hermosa üíò",
    "Siempre le doy gracias a Dios por ponerte en mi camino",
    "Eres el deseo cuando son las 11:11",
    "No hay nada mejor que pasar mi vida contigo üíò",
    "Eres mi llamada favorita üíò",
    "Mi personita favorita",
    "Gracias por compartir tu vida conmigo mi titita mosha üíò",
    "En tus ojos encontr√© mi hogar.",
    "Amarte es mi forma favorita de vivir.",
    "Eres el sue√±o que nunca quiero despertar.",
    "Mi coraz√≥n te eligi√≥ sin dudar.",
    "Cada latido de mi coraz√≥n dice tu nombre.",
    "Tu sonrisa ilumina mis d√≠as.",
    "Eres mi paz en medio del caos.",
    "Amarte es tan natural como respirar.",
    "Tu amor es mi refugio.",
    "Eres el amor q le da vida a mi vida",
    "Mientras duermes, le pido a Dios, que cuide de ti, porque eres mi mayor tesoro. te amo mi ni√±a mosha ü•∫üíï",
    "Eres mi premio",
    "Eres mi escudo",
    "Tus sue√±os son mis sue√±os",
    "Tus deseos son mis deseos ",
    "Tus metas mis metas",
    "T√∫ eres un regalo de Dios",
    "Aprendo junto a ti ",
    "Tu forma de ser conmigo es pura",
    "Claro qu√© quiero todo contigo ser√° dif√≠cil lo se, Pero si me dijeras pasaremos cualquier etapa juntitos ya ver√°s ü•∫üìéüíï",
    "Nunca te dejar√© ni te desamparar√© - hebreos 13:5",
    "Quisiera darte el mundo entero, porque realmente te lo mereces, eres todo lo q siempre quise y nunca llegaba, puedo darte lo mejor de mi, cada d√≠a me esfuerzo m√°s para que te sientas a√∫n mejor conmigo,te estoy entrando todo mi amor para q sepas lo mucho q vales para m√≠ ü•∫üíó",
    "T√∫ eres la mujer de la cual voy a vivir locamente enamorado. üíû",
    "ayer t√∫, hoy t√∫, ma√±ana t√∫, y para siempre ser√°s t√∫ mi amor üòç‚ù§Ô∏è",
    "Qu√© bonito detalle tuvo Dios conmigo al traerte a mi vida.‚ù§Ô∏è",
    "Mi ni√±a prechocha, nunca olvides lo importante que eres para m√≠ y lo mucho que me importas como te sientes yo siempre te quiero ver feliz üíüüíï",
    "Gracias por estar en momentos dif√≠ciles y pues m√°s que nada siempre te apoyar√© en todo mi ni√±a sabes que eres el amor de mi vida üòçüíû",
    "Eres demasiado linda si, solo al conocerte tus ojitos y t√∫ sonrisa fue mi debilidad. ü•∫üíó",
    "Eres la ni√±a m√°s hermosa del mundo. üíó",
    "Contigo descubr√≠ que algunos sentimientos no se explican, solo se sienten, y contigo todo se siente mejor.‚ù£Ô∏è‚ù§Ô∏è‚Äçüî•",
    "Que Dios nos cuide y nos permita tener un futuro juntos a pesar de las dificultades que vengan. ü§ç Te amo üíùü´Ö",
    "Solo Dios sabe que mi mayor deseo es construir un futuro contigo y amarte por el resto de mi vida, porqu√© lo eres todo para m√≠. üíó",
    "No s√© c√≥mo agradecerte por todo lo q eres en mi vida. üíó",
    "A veces siento que las palabras no alcanzan para expresar lo que significas para m√≠, Pero lo que si tengo claro es que eres mi mayor regalo y siempre voy a cuidar este amor que compartimos üíóü´∂",
    "Siempre t√∫, en todas mis versiones.",
    "Feliz, enamorado, obsesionado y adicto a ti que eres mi mujer.üíïü´∂",
    "Guapa m√≠a, te amooooooooo. ü•∫ü´∂üìé",
    "Cuando digo que te amo, te hablo de muchos sue√±os, de mil sonrisas y de una vida juntos. ü•∫üíï",
    "Cuando digo que es contigo, solo espero que te atrevas, que sujetes mi mano muy fuerte y que nunca tengas miedo, porque a tu lado quiero todo, sin condiciones y para siempre üíïü•∫üìé",
    "Prometo amarte toda la vida, as√≠ como lo dices 1 Corintios 13:4-7",
    "Mi coraz√≥n te ama demasiado y mi mente no te deja de pensar, lo √∫nico que quiero es estar mien contigo ü•∫üíò",
    "Eres el amor bonito que siempre so√±√© tener en mi coraz√≥n ‚ù§Ô∏è‚Äçü©π",
    "Tal vez no sea perfecto, Pero cr√©eme, te amo con todo mi tolachon ü•∫üíó",
    "üíå Te amo m√°s de lo que mis palabras pueden explicar. ü•∫üíó",
    "Este amor que siento por ti es tan real y verdadero como el aire que respiro üíóüíå",
    "Te amo en todo tiempo, te amo cada d√≠a m√°s. Eres mi vida. üíó",
    "Miles y millones de ojos Pero yo solo quiero mirar los tuyos üíïüíò",
    "Mi amor ‚ù§Ô∏è aunque est√° navidad üéÑ no podemos estar juntos ü•∫üíó, quiero que sepas que te amo üíû con todo mi coraz√≥n üíò",
    "La distancia üåè no apaga lo nuestro üî•, al contrario... hace que te piense m√°s ü•∫‚òÅÔ∏è y te amare toda la vida ü•∫üíï",
    "Graciass por darme la relaci√≥n mas bonita del mundo, te amo demasiado amor m√≠o. ü´Çüíóü´ß",
    "Es bonito sentir tu amor incluso sin tocarnos, sin besarnos y estando tan lejos el uno al otro üíïüíù‚ù§Ô∏è",
    "Te parece bien que te quiera nada m√°s para casarnos? ü•∫",
    "Solo casarnos tener dos hijas, abrir varios negocios, hacer carne asada los domingos, ir a la playa en vacaciones y vivir felices para siempre ü•∫ü´∂üòªüòª",
    "De la manera m√°s celosa posible quiero que tus labios, tu cara, tu coraz√≥n y tu cuerpo sean solo m√≠os ¬øok? üôàüòª",
    "Que el amor de Dios llene tu coraz√≥n ü´∂ y bendiga nuestro amor para que sigamos construyendo juntos momentos inolvidables te amo hoy ma√±ana y siempre ü•∫üíóüéÅüéÄ",
    "Tus locuras van con el mis locuras ü§ç ",
    "te amo 3 millones ‚ù§Ô∏è‚Äçü©π",
    "Tu siempre mi camino y siempre ser√°s mi camino üòç‚ù§Ô∏è‚Äçü©π",
    "Mientras usted exista mi amor, siempre va a ser mi debilidad oy√≥ mi titita mosha ü•∫üíï",
    "S√© que no ser√° f√°cil, Pero enserio  quiero que seamos t√∫ y yo durante mucho tiempo ü•∫üíïü´∂",
    "Mi alma te eligi√≥ üí´‚ù§Ô∏è",
    "Contigo todo se siente hogar üè°üíò",
    "Mi mundo eres t√∫ üåç‚ù§Ô∏è",
    "Mi coraz√≥n te pertenece üíìüîê",
    "Amarte es mi felicidad üíòüòä",
    "Contigo quiero todo üíçüíû",
    "Mi amor te acompa√±a siempre üö∂‚Äç‚ôÇÔ∏èüö∂‚Äç‚ôÄÔ∏èüíñ",
    "Eres mi sue√±o real ‚ú®‚ù§Ô∏è",
    "Amarte no fue una casualidad, fue una bendici√≥n que lleg√≥ a mi vida para ense√±arme lo que es el amor verdadero üíò‚ú®",
    "Contigo aprend√≠ que el amor no se grita, se demuestra en los detalles, en la paciencia y en el coraz√≥n ‚ù§Ô∏èüå∑",
    "Mi lugar favorito no es un sitio, es tu cuando me hablas titito, porque ah√≠ todo se calma y todo est√° bien ü§óüíû",
    "No importa la distancia ni el tiempo, mi coraz√≥n siempre sabe d√≥nde encontrarte üíìüåç",
    "Eres esa persona que lleg√≥ sin avisar y se qued√≥ para siempre en mi alma y creeme que me encanta que paso ashi üí´üíñ",
    "Cuando pienso en el futuro, siempre apareces t√∫, porque no s√© imaginar una vida donde no est√©s a mi lado üíçüíò",
    "Amarte es despertar con ilusi√≥n, dormir con esperanza y so√±ar contigo cada noche üåôüíû",
    "Mi amor por ti no entiende de dudas, solo sabe crecer y cuidarte cada d√≠a m√°s üå±‚ù§Ô∏è",
    "Eres el regalo m√°s bonito que Dios me dio, y prometo valorarte todos los d√≠as de mi vida üôèüíù",
    "Contigo descubr√≠ que el amor no pesa, no duele, no cansa‚Ä¶ cuando es real, se siente en paz üïäÔ∏èüíò",
    "Mi sonrisa tiene tu nombre y mi coraz√≥n aprendi√≥ a latir diferente desde que llegaste üòäüíì",
    "A tu lado quiero los d√≠as buenos y tambi√©n los dif√≠ciles, porque amarte es quedarme siempre üíïü§ù",
    "No necesito promesas perfectas, solo necesito tu mano y tu amor sincero üíçü§ç",
    "Eres mi pensamiento constante, mi sue√±o despierto y mi realidad favorita üí≠üíñ",
    "Te amo como Hello Kitty ama a sus amigos, con un coraz√≥n puro y sincero üê±üíñüéÄ",
    "Te amo hoy, ma√±ana y en todas las vidas que existan üíò‚ôæÔ∏è",
    "Te amo aunque un pa√≠s nos separe, porque mi coraz√≥n siempre sabe llegar hasta ti üá®üá¥‚ù§Ô∏èüá≤üáΩ",
    "Mi coraz√≥n no se equivoca cuando se trata de ti üíì‚ú®",
    "Te amo incluso en mis d√≠as m√°s dif√≠ciles, porque tu paciencia siempre me sostiene ‚ú®",
    "Contigo el amor se siente tranquilo, sincero y verdadero üïäÔ∏è‚ù§Ô∏è",
    "La distancia entre M√©xico y Colombia no puede con todo lo que siento por ti üåéüíñ",
    "Eres mi siempre, incluso en los d√≠as dif√≠ciles üíçüíû",
    "Te amo cuando pierdo el rumbo, porque t√∫ me cuidas sin juzgar üå∏üíñ",
    "Amarte es agradecerle a la vida todos los d√≠as üíñüôè",
    "Te amo a kil√≥metros de distancia, pero cerquita del coraz√≥n üíû",
    "Mi alma te reconoce incluso en el silencio üí´ü§ç",
    "Te amo en mis momentos m√°s torpes, porque t√∫ nunca sueltas mi mano ü§éüíñ",
    "No quiero una vida perfecta, solo una vida contigo üíïüè°",
    "Aunque no pueda abrazarte hoy, mi amor te cuida desde Colombia hasta M√©xico ü§çüåç",
    "Eres mi debilidad m√°s bonita y mi fortaleza m√°s grande üíìüí™",
    "La distancia duele, pero amarte vale cada espera üíï‚è≥",
    "Contigo puedo ser yo, contigo no me da miedo sacar mi yo, mi ni√±o titito ta muy feliz contigo mi titita mosha üíçü§ç",
    "Te amo incluso lejos, porque nuestro amor no conoce fronteras üåéüíò",
    "eres mi debilidad favorita üíçü§ç",
    "Te amo con un amor que viaja kil√≥metros solo para alcanzar tu hermoso coraz√≥n ‚úàÔ∏èüíñ",
    "Siempre que se trata de ti mi tolachon late mas lapilo y mi respiracion se acelera üíçü§ç",
    "Te amo como Hello Kitty, sin condiciones y con dulzura infinita üê±üíï",
    "Mi futuro tiene tu sonrisa, tu voz y tu amor üòäüíç",
    "Aunque estemos lejos, mi coraz√≥n siempre duerme contigo üåôüíû",
    "Amarte me ense√±√≥ que el amor verdadero no se fuerza, fluye üåä‚ù§Ô∏è",
    "La distancia solo me recuerda lo fuerte que es lo nuestro üåé‚ù§Ô∏è",
    "Eres la respuesta que mi coraz√≥n siempre estuvo esperando üíò‚ú®",
    "La distancia no enfr√≠a lo que nace del coraz√≥n y menos lo que siento por ti mi titita moshita üíûüî•",
    "Te amo como Hello Kitty ama, suave, bonito y desde el coraz√≥n üê±üíì‚ú®",
    "Esta Navidad est√°s lejos,pero en mi coraz√≥n est√°s cerca.Mi mejor regalo: t√∫ üéÑüíñ",
    "Te amo en cada mensaje, en cada llamada y en cada espera üì±üíñ",
    "T√∫ eres la raz√≥n por la que sonr√≠o üòäüíñ",
    "Aunque el abrazo tarde, el amor llega siempre ü§çüåç",
    "T√∫ eres la raz√≥n por la que mi coraz√≥n late m√°s fuerte üíì‚ú®",
    "La distancia nos pone a prueba, pero el amor siempre gana y obvio que el amor nuestro siempre va a ganar mi cachetonchita moshaüíï‚ôæÔ∏è",
    "Te amo al estilo Hello Kitty, con amor, ternura y muchos abrazos üê±ü§çüéÄ",
    "T√∫ eres la raz√≥n por la que creo en el amor üíòüå∏",
    "Te amo incluso lejos, porque mi amor no necesita estar cerca para cuidarte üïäÔ∏èüíû",
    "T√∫ eres la raz√≥n por la que me despierto con ilusi√≥n ‚òÄÔ∏èüíû",
    "De M√©xico a Colombia, mi amor por ti no se pierde üåéüíñ",
    "T√∫ eres la raz√≥n por la que mis d√≠as son m√°s bonitos üå∑‚ù§Ô∏è",
    "La distancia es dura, pero nuestro amor es m√°s fuerte üí™‚ù§Ô∏è",
    "Te amo como Hello Kitty cuida a quienes ama, siempre y sin soltarte üê±ü§óüíû",
    "T√∫ eres la raz√≥n por la que mi alma est√° en paz üïäÔ∏èüíñ",
    "Te amo con un amor paciente, que espera y conf√≠a ‚è≥üíû",
    "T√∫ eres la raz√≥n por la que no me rindo üí™üíû",
    "Aunque estemos lejos, mi coraz√≥n siempre sabe d√≥nde est√°s üíìüåç",
    "Te amo como Masha ama al Oso: con locura, ternura y un amor que nunca se cansa üêªüå∏üíñ",
    "T√∫ eres la raz√≥n por la que mi vida tiene sentido ‚ú®üíì",
    "Este 24 de diciembre, aunque la distancia nos separe, mi mejor regalo eres t√∫ üéÑüíñ",
    "T√∫ eres la raz√≥n por la que sonr√≠o sin darme cuenta üòäüíò",
    "No importa que estemos lejos en Navidad, porque mi coraz√≥n celebra contigo üéÑüíûüåç",
    "Te amo como el Oso cuida a Masha, con paciencia, protecci√≥n y un coraz√≥n enorme üêªü§é‚ú®",
    "T√∫ eres la raz√≥n por la que mi coraz√≥n te eligi√≥ üíçüíñ",
    "Este 24 no te puedo abrazar, pero te regalo todo mi amor desde Colombia hasta M√©xico. Te amo miprincheshita mosha üéÅ‚ù§Ô∏è",
    "T√∫ eres la raz√≥n por la que creo en el amor  para siempre ‚ôæÔ∏èüíñ",
    "La distancia duele un poco m√°s en Navidad, pero saber que te tengo lo compensa todo üéÑü•∫üíñ",
    "T√∫ eres la raz√≥n por la que me siento en casa üè°üíì",
    "Mi regalo favorito este 24 de diciembre no viene en una caja, viene con tu nombre üéÅüíû",
    "T√∫ eres la raz√≥n por la que mi coraz√≥n se calma üïäÔ∏èüíû",
    "Te amo incluso en el desorden, as√≠ como el Oso ama a Masha todos los d√≠as üêªüè°‚ù§Ô∏è",
    "T√∫ eres la raz√≥n por la que me siento amado ‚ù§Ô∏èüòä",
    "Aunque no estemos juntos bajo el mismo √°rbol, mi amor siempre est√° contigo üéÑüåüüíñ",
    "T√∫ eres la raz√≥n por la que sonr√≠o incluso triste üòåüíñ",
    "Esta Navidad no te dar√© cosas, te doy mi coraz√≥n completo, incluso a kil√≥metros de distancia üíìüéÑüåç",
    "T√∫ eres la raz√≥n por la que mis sue√±os tienen tu nombre üí≠üíû",
    "El mejor regalo de esta Nochebuena eres t√∫, aun desde lejos üéÑüíñ‚ôæÔ∏è",
    "Te amo con la alegr√≠a de Masha y la calma del Oso üêªüòäüíñ",
    "T√∫ eres la raz√≥n por la que todo vale la pena ‚ú®üíñ",
    "La distancia no apaga la magia de esta Navidad, porque t√∫ iluminas mi coraz√≥n ‚ú®üéÑüíû",
    "T√∫ eres la raz√≥n por la que mi coraz√≥n sonr√≠e üíìüòä",
    "Este 24 de diciembre le agradezco a Dios por ti, mi regalo m√°s bonito üôèüéÑüíñ",
    "T√∫ eres la raz√≥n por la que me siento seguro üîêüíû",
    "Aunque estemos en pa√≠ses distintos, mi amor llega puntual a tu corachon en esta Navidad üéÑ‚è≥üíû",
    "T√∫ eres la raz√≥n por la que el amor es bonito üå∏üíû",
    "Contigo soy Masha feliz y t√∫ eres mi Oso protector üêªüå∏üíñ",
    "T√∫ eres la raz√≥n por la que no me siento solo ü§çüíñ",
    "Mi Navidad es pensar en ti, incluso desde lejos üéÑüí≠üíñ",
    "T√∫ eres la raz√≥n por la que mi coraz√≥n te pertenece üíìüîê",
    "No necesito m√°s regalos este 24, con tenerte en mi vida es suficiente üéÅ‚ù§Ô∏èüéÑ",
    "No se que mas decir jsjsj pero  te amo mi reina ‚è≥üíû",
    "La distancia nos separa, pero esta Navidad nos promete un conocernos üéÑüíû‚ú®",
    "T√∫ eres la raz√≥n por la que sonr√≠o al pensarte üí≠üòä",
    "Este 24 de diciembre mi deseo eres t√∫, hoy y siempre üéÑüíñüåü",
    "Te amo incluso cuando me vuelvo un caos, porque t√∫ siempre sabes cuidarme üêªüå∏üíû",
    "T√∫ eres la raz√≥n por la que mi sonrisa no se apaga üòäüíì",
    "Aunque no pueda darte un beso bajo el cielo estrellado, mi amor s√≠ llega hasta ti üéÑüíãüíû",
    "Nos vamos a casar con el favor de Diosüíçüíñ ",
    "Esta Navidad aprend√≠ que el mejor regalo no se envuelve, se ama üéÅüíñüéÑ",
    "Mi culona hermosha te amo musho, mi titita mosha tu papi te adora üíçüíñ",
    "Este 24 de diciembre, mi coraz√≥n te elige como su regalo eterno üéÑüíñüíç",
    "Te amo aun cuando todo en m√≠ es un desastre, porque t√∫ siempre sabes traerme calma üíûüå∏",
    "Desde Colombia hasta M√©xico, mi amor te desea Feliz Navidad üéÑ‚ù§Ô∏è",
    "La distancia no puede quitarle valor al regalo que eres para m√≠ üéÑüíì‚ôæÔ∏è",
    "perd√≥n si insisto demasiado o si te molesto mucho, es que de verdad quiero q seas tu, de verdad quiero demostrarte cu√°nto te quiero y cu√°nto deseo que seas tu ü•∫‚ù§Ô∏è‚Äçü©πüíó",
    "Al final lo mejor del a√±o fuiste tu mi amor üíïü´∂",
    "Hoy celebro no solo el regalo De esta fecha tan especial si no tambi√©n el regalo de tenerte en mi vida üòçüß¨",
    "El mejor regalo de navidad Es tenerte a mi lado ü´Ç‚ù§Ô∏è‚Äçü©π‚ù§Ô∏è‚Äçüî•",
    "Hoy 24 de diciembre, quiero recordarte que eres lo m√°s bonito que puedo tener en mi vida, Te amooooooo üòªüíñ",
    "La distancia no me quita las ganas de estar contigo, solo me hace imaginar con m√°s anhelo el d√≠a en que por fin estemos cerca amosito ü•∫üíó",
    "Me encantar√≠a construir recuerdos contigo, disfrutar del progreso, apoyarnos en absolutamente todo y celebrar juntos cada logro cumplidos ü•∫üíóü´∂",
    "No lo digo solo por compartir el comienzo de un juego a√±o, sino porque quiero que seas parte de mis d√≠as, mis planes y mis metas. ü•∫üíòü´∂",
    "AMOR MIO. Te gustar√≠a iniciar el 2026 conmigo?ü•∫ü´ßüìé",
    "Gracias por t√∫ amor, t√∫ paciencia, t√∫ compa√±√≠a y por llenar mis d√≠as de alegr√≠a. üìéüíñüòª",
    "Feliz navidad mi amor. üéÑüíó"
  ];

  const TOTAL = 200;
  let frasesCargadas = []; // aqu√≠ estar√°n las frases finales

  // Intenta cargar frases desde 'frases.txt' (misma carpeta)
  async function tryLoadFromFile(){
    try{
      const res = await fetch('frases.txt', {cache: "no-store"});
      if(!res.ok) throw new Error('no encontrado');
      const text = await res.text();
      const lines = text.split(/\r?\n/).map(s=>s.trim()).filter(Boolean);
      if(lines.length) return lines;
    }catch(e){
      // no encontrado o error -> retorna null para usar por defecto
    }
    return null;
  }

  // Si el usuario pega frases en el textarea se aplican con this function:
  function applyPastedFrases(text){
    const lines = text.split(/\r?\n/).map(s=>s.trim()).filter(Boolean);
    if(lines.length === 0) return false;
    frasesCargadas = buildFinalFrases(lines);
    rebuildGaleria();
    return true;
  }

  // Recibe un array de frases (puede ser menos que TOTAL) y devuelve array de length TOTAL
  function buildFinalFrases(lines){
    const out = [];
    for(let i=0;i<TOTAL;i++){
      out[i] = lines[i] ?? frasesBase[i] ?? `Recuerdo ${i+1}`;
    }
    return out;
  }

  // Construye la galer√≠a usando frasesCargadas y fotos fotoN.jpeg
  const galeria = document.getElementById('galeria');
  function rebuildGaleria(){
    galeria.innerHTML = '';
    const frag = document.createDocumentFragment();
    for(let i=0;i<TOTAL;i++){
      const n = i+1;
      const frase = frasesCargadas[i];
      const card = document.createElement('div');
      card.className = 'card';
      card.tabIndex = 0;
      card.setAttribute('role','button');
      card.setAttribute('aria-pressed','false');
      card.innerHTML = `
        <div class="card-inner">
          <div class="card-front">
            <img src="foto${n}.jpeg" alt="Recuerdo ${n}" loading="lazy">
          </div>
          <div class="card-back"><p>${escapeHtml(frase)}</p></div>
        </div>
      `;
      card.addEventListener('click', ()=>{
        card.classList.toggle('flipped');
        card.setAttribute('aria-pressed', card.classList.contains('flipped'));
      });
      card.addEventListener('keydown', (e)=>{
        if(e.key === 'Enter' || e.key === ' '){
          e.preventDefault();
          card.classList.toggle('flipped');
          card.setAttribute('aria-pressed', card.classList.contains('flipped'));
        }
      });
      const img = card.querySelector('img');
      img.addEventListener('error', ()=>{
        img.src = `https://via.placeholder.com/400x400/cccccc/333333?text=Foto+${n}`;
        img.alt = `Foto ${n} no disponible`;
      });
      frag.appendChild(card);
    }
    galeria.appendChild(frag);
  }

  // Escape simple para evitar inyecci√≥n en innerHTML de frases
  function escapeHtml(s){
    return s.replace(/[&<>"']/g, (c)=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' })[c]);
  }

  // Inicializaci√≥n: intenta cargar frases.txt, si no usar frasesBase + relleno
  (async function init(){
    const fromFile = await tryLoadFromFile();
    if(fromFile && fromFile.length){
      frasesCargadas = buildFinalFrases(fromFile);
    }else{
      // por defecto usar frasesBase y rellenar
      frasesCargadas = buildFinalFrases(frasesBase);
    }
    rebuildGaleria();
  })();

  // ---- UI: overlay, panel de pegar frases, botones ----
  const overlay = document.getElementById('overlay');
  const closeOverlay = document.getElementById('closeOverlay');
  const openFrasesPanelBtn = document.getElementById('openFrasesPanel');
  const frasesPanel = document.getElementById('frasesPanel');
  const cerrarFrasesBtn = document.getElementById('cerrarFrases');
  const aplicarFrasesBtn = document.getElementById('aplicarFrases');
  const frasesPaste = document.getElementById('frasesPaste');
  const cargarDesdeArchivoBtn = document.getElementById('cargarDesdeArchivo');

  closeOverlay.addEventListener('click', ()=>{ overlay.style.display='none'; document.body.style.overflow=''; });
  document.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && overlay.style.display!=='none'){ overlay.style.display='none'; document.body.style.overflow=''; } });

  openFrasesPanelBtn.addEventListener('click', ()=>{
    frasesPanel.style.display = 'block';
    frasesPanel.setAttribute('aria-hidden','false');
    frasesPaste.focus();
  });
  cerrarFrasesBtn.addEventListener('click', ()=>{
    frasesPanel.style.display = 'none';
    frasesPanel.setAttribute('aria-hidden','true');
  });
  aplicarFrasesBtn.addEventListener('click', ()=>{
    const ok = applyPastedFrases(frasesPaste.value);
    if(ok){
      frasesPanel.style.display = 'none';
      frasesPanel.setAttribute('aria-hidden','true');
      overlay.style.display = 'none';
      document.body.style.overflow = '';
    }else{
      alert('No se detectaron frases en el √°rea. Pega una frase por l√≠nea.');
    }
  });

  // Bot√≥n "Cargar desde archivo" fuerza reintento de fetch (√∫til si antes no exist√≠a)
  cargarDesdeArchivoBtn.addEventListener('click', async ()=>{
    const fromFile = await tryLoadFromFile();
    if(fromFile && fromFile.length){
      frasesCargadas = buildFinalFrases(fromFile);
      rebuildGaleria();
      overlay.style.display='none';
      document.body.style.overflow='';
      alert('Frases cargadas desde frases.txt');
    }else{
      alert('No se encontr√≥ frases.txt en la carpeta, o est√° vac√≠o. Crea un archivo llamado frases.txt con una frase por l√≠nea y vuelve a intentarlo.');
    }
  });

  // ---- M√∫sica (play/pause, volumen, mute) ----
  const audio = document.getElementById('music');
  const playBtn = document.getElementById('playBtn');
  const muteBtn = document.getElementById('muteBtn');
  const volRange = document.getElementById('volRange');
  const musicStatus = document.getElementById('musicStatus');

  // Estado inicial
  audio.volume = parseFloat(volRange.value);
  updateMusicUI();

  playBtn.addEventListener('click', async ()=>{
    if(audio.paused){
      try{
        await audio.play(); // requiere user gesture en many browsers
        playBtn.textContent = '‚è∏';
      }catch(e){
        alert('El navegador bloque√≥ la reproducci√≥n autom√°tica. Pulsa el bot√≥n de reproducir para permitirlo.');
      }
    }else{
      audio.pause();
      playBtn.textContent = '‚ñ∂Ô∏è';
    }
    updateMusicUI();
  });

  muteBtn.addEventListener('click', ()=>{
    audio.muted = !audio.muted;
    muteBtn.textContent = audio.muted ? 'üîá' : 'üîà';
    updateMusicUI();
  });

  volRange.addEventListener('input', ()=>{
    audio.volume = parseFloat(volRange.value);
    if(audio.volume === 0) audio.muted = true;
    else audio.muted = false;
    muteBtn.textContent = audio.muted ? 'üîá' : 'üîà';
    updateMusicUI();
  });

  audio.addEventListener('play', ()=>{ playBtn.textContent='‚è∏'; updateMusicUI(); });
  audio.addEventListener('pause', ()=>{ playBtn.textContent='‚ñ∂Ô∏è'; updateMusicUI(); });
  audio.addEventListener('volumechange', updateMusicUI);

  function updateMusicUI(){
    musicStatus.textContent = audio.paused ? 'Pausado' : 'Reproduciendo';
    musicStatus.textContent += audio.muted ? ' (silenciado)' : '';
  }

  // Evitar scroll bloqueado al inicio (si quieres el overlay abierto, se bloquea)
  document.body.style.overflow = 'hidden';

  // Emojis cayendo
  const emojis = ["üéÑ","‚ùÑÔ∏è","üéÄ","‚ù§Ô∏è","üê±üéÄ"];
  setInterval(()=>{
    const e = document.createElement("div");
    e.className = "falling";
    e.textContent = emojis[Math.floor(Math.random()*emojis.length)];
    e.style.left = Math.random()*100 + "vw";
    e.style.animationDuration = (3 + Math.random()*3) + "s";
    e.style.fontSize = (18 + Math.random()*18) + "px";
    document.body.appendChild(e);
    setTimeout(()=>e.remove(),9000);
  },300);
</script>

</body>
</html>